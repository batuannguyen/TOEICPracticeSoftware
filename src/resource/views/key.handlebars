<div class="col-md-8 col-sm-8 block-container">
    <h2>
        Part {{numPart}} - Test {{numTest}} - Key
    </h2>
    {{#each data}}
    <div class="question-container">
        <div>
            <div>
                <img src="http://localhost:4000/img/{{this.image}}" alt="Bayern" class="image_part1">
            </div>
            <div class="paragraph-container">
                <p>
                    {{this.paragraph}}
                </p>
            </div>
            <div>
                <audio controls>
                    <source src="http://localhost:4000/audio/{{this.audio}}" type="audio/mpeg">
                </audio>
            </div>
            {{#each this.question_list}}
            <h4>
                Question {{this.number_question}}. {{this.question_content}}
            </h4>
            <div class="choice-container">
                <ul class="choice_list {{this.correct}} {{this.choice}}" >
                    {{#each this.answer}}
                    <li class="choice-item" id="{{this.number_question}}-{{this.L}}">
                        <label>({{this.L}}){{this.content}}</label>
                    </li>
                    {{/each}}
                </ul>
            </div>
            {{/each}}
        </div>
    </div>
    {{/each}}
</div>
<script>
    function convert_to_label(x){
        if (x == "1") return "A";
        if (x == "2") return "B";
        if (x == "3") return "C";
        if (x == "4") return "D";
    }
    for (var element of document.getElementsByClassName("choice_list")){
        var correct = element.classList[1]
        correct = convert_to_label(correct)
        var choice = element.classList[2]
        for (var item of element.children){
            var id = item.id.split("-")[1]
            if (id == choice){
                item.style.backgroundColor = "red"
            }
            if (id == correct){
                item.style.backgroundColor = "green"
            }
        }
    }
    for (var element of document.querySelectorAll("p")){
        console.log(element)
        var text = element.innerText
        element.innerHTML = text
    }
</script>